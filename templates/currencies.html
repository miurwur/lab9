{% extends "base.html" %}

{% block content %}
<h2>Валюты</h2>

{% if currencies %}
<table>
    <tr>
        <th>ID</th>
        <th>Код</th>
        <th>Название</th>
        <th>Курс</th>
        <th>Номинал</th>
        <th>Действия</th>
    </tr>
    {% for currency in currencies %}
    <tr>
        <td>{{ currency.id }}</td>
        <td>{{ currency.char_code }}</td>
        <td>{{ currency.name }}</td>
        <td>{{ currency.value }} руб.</td>
        <td>{{ currency.nominal }}</td>
        <td>
            <a href="/currency/delete?id={{ currency.id }}"
               onclick="return confirm('Удалить валюту {{ currency.char_code }}?')">
                Удалить
            </a>
        </td>
    </tr>
    {% endfor %}
</table>
<p>Всего: {{ currencies|length }} валют</p>
{% else %}
<p>Валют нет</p>
{% endif %}

<h3>Добавить валюту:</h3>
<form action="/currency/create" method="POST">
    <input type="text" name="num_code" placeholder="Цифровой код" required>
    <input type="text" name="char_code" placeholder="Код (USD)" maxlength="3" required>
    <input type="text" name="name" placeholder="Название" required>
    <input type="number" name="value" placeholder="Курс" step="0.01" required>
    <input type="number" name="nominal" placeholder="Номинал" required>
    <button type="submit">Добавить</button>
</form>
{% endblock %}